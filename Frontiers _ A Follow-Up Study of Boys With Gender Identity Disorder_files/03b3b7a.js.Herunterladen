(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1580:function(e,t,r){"use strict";var n=r(5);r(29);t.a=function e(t){Object(n.a)(this,e),this.$axios=t,this.$axios.setBaseURL("".concat(location.protocol,"//").concat(location.host))}},1594:function(e,t,r){"use strict";r.r(t);r(56);var n=r(2),c=r(5),l=r(7),o=r(26),f=r(27),h=r(12),v=r(34),m=(r(38),r(91),r(146),r(48));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(h.a)(e);if(t){var c=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var y=function(e){Object(o.a)(f,e);var t,r=d(f);function f(e){return Object(c.a)(this,f),r.call(this,e)}return Object(l.a)(f,[{key:"getSimilarArticles",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){var path;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return path="api/v3/articles/search/articles/".concat(t,"/similar-articles"),e.prev=1,e.next=4,this.$axios.$get(path);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),new Error("Error getting similar articles. "+e.t0.message);case 10:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return t.apply(this,arguments)})}]),f}(r(1580).a),O=y;r(57),r(29),r(47),r(70),r(46),r(105),r(54),r(19);var A=r(443),j=r(14);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(h.a)(e);if(t){var c=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var R=function(e,t,r,desc){var n,c=arguments.length,l=c<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(c<3?n(l):c>3?n(t,r,l):n(t,r))||l);return c>3&&l&&Object.defineProperty(t,r,l),l},x=function(e){Object(o.a)(f,e);var t,r=w(f);function f(){var e;return Object(c.a)(this,f),(e=r.apply(this,arguments)).similarArticles=[],e.loadingSimilarArticles=!1,e}return Object(l.a)(f,[{key:"currentArticle",get:function(){return this.$store.state.currentArticle}},{key:"loadSimilarArticles",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t||this.loadingSimilarArticles||this.similarArticles.length>0)){e.next=2;break}return e.abrupt("return");case 2:return this.loadingSimilarArticles=!0,r=new O(this.$axios),e.prev=4,e.next=7,r.getSimilarArticles(this.currentArticle.id);case 7:n=e.sent,this.similarArticles=n.map((function(article){return function(article){var e=article.Authors.map((function(a){return{fullName:a.FullName}}));return{id:article.Doi,doi:article.Doi,type:article.ArticleType,title:article.ArticleTitle,imageUrl:article.ImageUrl,journalName:article.JournalName,acceptedDate:article.ReceivedDate,publishedDate:article.OnlineSinceDate,authors:e,totalCitations:article.Impact.Citations,totalViews:article.Impact.Views,showPdfTag:article.IsArticleArchive,journalSlug:article.JournalSlug,useNewURL:!0}}(article)})),this.checkOverflowCarousel("carousel01"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error loading similar articles"),this.loadingSimilarArticles=!1;case 16:case"end":return e.stop()}}),e,this,[[4,12]])}))),function(e){return t.apply(this,arguments)})},{key:"checkOverflowCarousel",value:function(e){var t=this;setTimeout((function(){var r=t.$refs[e];r.styleOverflowCards(),r.styleIsDisabledNext()}),0)}}]),f}(m.Vue),S=x=R([Object(m.Component)({name:"SimilarArticles",components:{Carousel:j.f.Carousel},directives:{"observe-visibility":A.a}})],x),k=r(104),component=Object(k.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.loadSimilarArticles,expression:"loadSimilarArticles"}],class:{Layout__similarArticles:e.similarArticles.length>0}},[e.similarArticles.length>0?[e._m(0),e._v(" "),r("carousel",{ref:"carousel01",attrs:{"card-type":"CardArticle",cards:e.similarArticles}})]:e._e()],2)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"Heading Heading--h2"},[r("h2",[e._v("Similar articles")])])}],!1,null,null,null);t.default=component.exports}}]);